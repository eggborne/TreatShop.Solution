@{
  Layout = "_Layout";
}

@using TreatShop.Models;

<div class="flavorIndexLayout">

  @if (User.Identity.IsAuthenticated)
  {
    <h2>Flavors for @ViewBag.UserName!</h2>
    @if (Model.Count == 0)
    {
      <h3>No flavors have been added yet!</h3>
    } 
      @foreach (Flavor flavor in Model)
      {
        <h3 class="flavor-list">@Html.ActionLink(@flavor.Name, "Details", "Flavors", new { id = @flavor.FlavorId})</h3>
      }
  }
  else
  {
    <h3>Flavors</h3>
    <p>Please @Html.ActionLink("log in", "LogIn", "Account") to view or manage your flavors.</p>
  }

  <div class="flavor-links">
    <span>@Html.ActionLink(".Manage flavors", "Index", "Flavors")</span> 
    <span>@Html.ActionLink(".Manage treats", "Index", "Treats")</span>
    <span>@Html.ActionLink(".Create or manage an account", "Index", "Account")</span>
  </div>
</div>
